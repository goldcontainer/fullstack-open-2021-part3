{"version":3,"sources":["components/Person.js","components/People.js","components/Notification.js","components/Form.js","services/persons.js","App.js","index.js"],"names":["Person","key","person","toggleDelete","name","number","onClick","People","filter","persons","filteredPersons","className","map","Notification","message","messageType","Form","onSubmit","newName","handleNameChange","newNumber","handleNumberChange","value","onChange","type","baseUrl","exportObj","getAll","axios","get","then","response","data","create","newPerson","post","update","id","put","deletePerson","delete","Header","props","text","App","useState","setPersons","setNewName","setNewNumber","setNewFilter","setFilteredPersons","setMessage","setMessageType","useEffect","personService","event","target","filterList","toLowerCase","includes","preventDefault","personObj","found","find","undefined","window","confirm","changedPerson","catch","error","setTimeout","concat","console","log","deletedPerson","p","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.e6d341ff.chunk.js","sourcesContent":["import React from 'react'\n\n\nconst Person = ({ key, person, toggleDelete }) => {\n\n\treturn (\n\t\t<li key={key}>\n\t\t\t{person.name} {person.number} <button onClick={() => toggleDelete(person)}>delete</button>\n\t\t</li>\n\t)\n}\n\nexport default Person","import React from 'react'\nimport Person from './Person'\n\nconst People = ({ filter, persons, filteredPersons, toggleDelete }) => (\n  <div className=\"persons\">\n    {filter === \"\"\n      ? persons?.map(person => (\n          <Person\n            key={person.name}\n            person={person}\n            toggleDelete={toggleDelete}\n          />\n        ))\n      : filteredPersons?.map(person => (\n          <Person\n            key={person.name}\n            person={person}\n            toggleDelete={toggleDelete}\n          />\n        ))}\n  </div>\n);\n\nexport default People;","import React from 'react'\n\nconst Notification = ({ message, messageType }) => {\n\tif(message === null) {\n\t\treturn null\n\t}\n\n\treturn (\n\t\t<div className={messageType}>\n\t\t\t{message}\n\t\t</div>\n\t)\n}\n\nexport default Notification","import React from 'react'\n\nconst Form = ({ onSubmit, newName, handleNameChange, newNumber, handleNumberChange }) => {\n\t\n\treturn (\n\t<form onSubmit={onSubmit}>\n    <div>name: <input value={newName} onChange={handleNameChange} /></div>\n      <div>number: <input value={newNumber} onChange={handleNumberChange} /></div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n  </form>\n  )\n}\n\nexport default Form","import axios from 'axios'\nconst baseUrl = 'http://localhost:3001/api/persons'\n\nconst getAll = () => {\n\tconst request = axios.get(baseUrl)\n\treturn request.then(response => response.data)\n}\n\nconst create = (newPerson) => {\n\treturn axios.post(baseUrl, newPerson)\n}\n\nconst update = (id, newPerson) => {\n\tconst request = axios.put(`${baseUrl}/${id}`, newPerson)\n\treturn request.then(response => response.data)\n}\n\nconst deletePerson = (id) => {\n\tconst request = axios.delete(`${baseUrl}/${id}`)\n\treturn request.then(response => response.data)\n}\n\nconst exportObj = {\n\tgetAll,\n\tcreate,\n\tupdate,\n\tdeletePerson\n}\n\nexport default exportObj","import React, { useState, useEffect } from 'react'\nimport People from './components/People'\nimport Notification from './components/Notification'\nimport Form from './components/Form'\n\nimport personService from './services/persons'\n\nconst Header = (props) => <h2>{props.text}</h2>\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  // used for storing user-submitted inputs\n  // setting the value attr of the input tag without an event handler\n  // causes the App to control the behavior of the input element\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber] = useState('');\n  const [ filter, setNewFilter ] = useState('');\n  const [ filteredPersons, setFilteredPersons ] = useState(null);\n  const [ message, setMessage ] = useState(null);\n  const [ messageType, setMessageType ] = useState('');\n\n  useEffect(() => {\n    personService.getAll().then(response => {\n      setPersons(response);\n    })\n  }, [])\n\n  const handleFilterChange = (event) => {\n    // console.log(event.target.value);\n    setNewFilter(event.target.value);\n    const filterList = persons.filter(person => \n      person.name.toLowerCase().includes(event.target.value.toLowerCase()));\n    setFilteredPersons(filterList);\n  }\n\n  const handleNameChange = (event) => {\n    // console.log(event.target.value);\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = (event) => {\n    // console.log(event.target.value);\n    setNewNumber(event.target.value);\n  }\n\n  const toggleDelete = (person) => {\n    if(window.confirm(`Delete ${person.name}?`)) {\n      const deletedPerson = persons.find(p => p.id === person.id)\n\n      personService.deletePerson(deletedPerson.id)\n      setPersons(persons.filter(p => p.id !== person.id))\n\n    }\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault();\n\n    const personObj = {\n        name: newName,\n        number: newNumber,\n    };\n\n    const found = persons.find(person => person.name === newName);\n\n    if (found !== undefined) {\n      if(window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n\n        const changedPerson = { ...found, number: personObj.number}\n\n        personService\n          .update(found.id, changedPerson).then(response => {\n            setPersons(persons.map(person => person.id !== found.id ? person : changedPerson))\n          })\n          .catch(error => {\n            setMessage(`${personObj.name} does not exist in phonebook`\n            )\n            setMessageType('error')\n            setTimeout(() => {\n              setMessage(null);\n              setMessageType('');\n            }, 5000)\n          })\n\n        setMessage(`Changed ${personObj.name}'s number`);\n        setMessageType('notification')\n        setTimeout(() => {\n          setMessage(null);\n          setMessageType('')\n        }, 5000);\n      }\n    } else {\n\n      personService\n        .create(personObj)\n        .then(response => {\n          setPersons(persons.concat(response.data))\n\n          //setPersons(persons.concat(personObj));\n          setMessage(`Added ${personObj.name}`);\n          setMessageType('notification')\n          setNewName('')\n          setNewNumber('')\n\n          setTimeout(() =>  {\n            setMessage(null);\n            setMessageType('');\n          }, 5000);\n        })\n        .catch(error => {\n          console.log(\"WE IN HERE!\")\n          console.log(error.response.data)\n          setMessage(error.error)\n          setMessageType('error')\n          setNewName('')\n          setNewNumber('')\n          setTimeout(() => {\n            setMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n\n  return (\n    <div>\n      <Header text='Phonebook' />\n      <Notification message={message} messageType={messageType} />\n      <div>filter shown with <input value={filter} onChange={handleFilterChange}/></div>\n      \n      <Header text='Add a New Contact' />\n      <Form \n        onSubmit={addPerson}\n        newName={newName}\n        handleNameChange={handleNameChange}\n        newNumber={newNumber}\n        handleNumberChange={handleNumberChange}\n      />\n      <Header text='Numbers' />\n\n      <People\n        persons={persons}\n        filter={filter}\n        filteredPersons={filteredPersons}\n        toggleDelete={toggleDelete}\n      />\n    </div>\n  )\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}