(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),i=n.n(c),o=n(15),a=n.n(o),u=n(6),r=n(3),s=n(0),d=function(e){return Object(s.jsxs)("li",{children:[e.name," ",e.number," ",Object(s.jsx)("button",{onClick:e.toggleDelete,children:"delete"})]},e.id)},j=function(e){var t=e.message,n=e.messageType;return null===t?null:Object(s.jsx)("div",{className:n,children:t})},b=n(4),l=n.n(b),f="/api/persons",m={getAll:function(){return l.a.get(f)},create:function(e){return l.a.post(f,e)},update:function(e,t){return l.a.put("".concat(f,"/").concat(e),t).then((function(e){return e.data}))},deletePerson:function(e){return l.a.delete("".concat(f,"/").concat(e))}},O=function(e){return Object(s.jsx)("h2",{children:e.text})},h=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],i=t[1],o=Object(c.useState)(""),a=Object(r.a)(o,2),b=a[0],l=a[1],f=Object(c.useState)(""),h=Object(r.a)(f,2),x=h[0],p=h[1],v=Object(c.useState)(""),g=Object(r.a)(v,2),w=g[0],k=g[1],C=Object(c.useState)(null),S=Object(r.a)(C,2),y=S[0],T=S[1],A=Object(c.useState)(""),D=Object(r.a)(A,2),N=D[0],P=D[1];Object(c.useEffect)((function(){m.getAll().then((function(e){i(e.data)}))}),[]);var E=n.filter((function(e){return e.name.toLowerCase().includes(w.toLowerCase())}));return Object(s.jsxs)("div",{children:[Object(s.jsx)(O,{text:"Phonebook"}),Object(s.jsx)(j,{message:y,messageType:N}),Object(s.jsxs)("div",{children:["filter shown with ",Object(s.jsx)("input",{value:w,onChange:function(e){k(e.target.value)}})]}),Object(s.jsx)(O,{text:"Add a New Contact"}),Object(s.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t={name:b,number:x},c=n.find((function(e){return e.name===b}));if(void 0!==c){if(window.confirm("".concat(b," is already added to phonebook, replace the old number with a new one?"))){var o=Object(u.a)(Object(u.a)({},c),{},{number:t.number});m.update(c.id,o).then((function(e){i(n.map((function(e){return e.id!==c.id?e:o})))})).catch((function(e){T("".concat(t.name," does not exist in phonebook")),P("error"),setTimeout((function(){T(null),P("")}),5e3)})),T("Changed ".concat(t.name,"'s number")),P("notification"),setTimeout((function(){T(null),P("")}),5e3)}}else m.create(t).then((function(e){i(n.concat(e.data)),l(""),p("")})),i(n.concat(t)),l(""),p(""),T("Added ".concat(t.name)),P("notification"),setTimeout((function(){T(null),P("")}),5e3)},children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:b,onChange:function(e){l(e.target.value)}})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{value:x,onChange:function(e){p(e.target.value)}})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]}),Object(s.jsx)(O,{text:"Numbers"}),Object(s.jsx)("div",{children:E.map((function(e){return Object(s.jsx)(d,{name:e.name,number:e.number,toggleDelete:function(){return function(e){if(window.confirm("Delete ".concat(e.name,"?"))){var t=n.find((function(t){return t.id===e.id}));m.deletePerson(t.id),i(n.filter((function(t){return t.id!==e.id})))}}(e)}},e.id)}))})]})};n(39);a.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(h,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.2f76bce2.chunk.js.map