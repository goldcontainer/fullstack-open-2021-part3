(this.webpackJsonpphonebook=this.webpackJsonpphonebook||[]).push([[0],{39:function(e,t,n){},40:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),o=n(15),i=n.n(o),u=n(6),r=n(3),s=n(0),d=function(e){var t=e.persons,n=e.filter,c=e.filteredPersons;e.toggleDelete;return Object(s.jsx)("div",{children:""===n?null===t||void 0===t?void 0:t.map((function(e){e.name})):null===c||void 0===c?void 0:c.map((function(e){e.name}))})},l=function(e){var t=e.message,n=e.messageType;return null===t?null:Object(s.jsx)("div",{className:n,children:t})},b=function(e){var t=e.onSubmit,n=e.newName,c=e.handleNameChange,a=e.newNumber,o=e.handleNumberChange;return Object(s.jsxs)("form",{onSubmit:t,children:[Object(s.jsxs)("div",{children:["name: ",Object(s.jsx)("input",{value:n,onChange:c})]}),Object(s.jsxs)("div",{children:["number: ",Object(s.jsx)("input",{value:a,onChange:o})]}),Object(s.jsx)("div",{children:Object(s.jsx)("button",{type:"submit",children:"add"})})]})},j=n(4),f=n.n(j),h="http://localhost:3001/api/persons",m={getAll:function(){return f.a.get(h).then((function(e){return e.data}))},create:function(e){return f.a.post(h,e)},update:function(e,t){return f.a.put("".concat(h,"/").concat(e),t).then((function(e){return e.data}))},deletePerson:function(e){return f.a.delete("".concat(h,"/").concat(e)).then((function(e){return e.data}))}},O=function(e){return Object(s.jsx)("h2",{children:e.text})},p=function(){var e=Object(c.useState)([]),t=Object(r.a)(e,2),n=t[0],a=t[1],o=Object(c.useState)(""),i=Object(r.a)(o,2),j=i[0],f=i[1],h=Object(c.useState)(""),p=Object(r.a)(h,2),v=p[0],x=p[1],g=Object(c.useState)(""),w=Object(r.a)(g,2),C=w[0],N=w[1],S=Object(c.useState)(null),k=Object(r.a)(S,2),y=k[0],P=k[1],T=Object(c.useState)(null),A=Object(r.a)(T,2),D=A[0],E=A[1],J=Object(c.useState)(""),L=Object(r.a)(J,2),B=L[0],I=L[1];Object(c.useEffect)((function(){m.getAll().then((function(e){a(e)}))}),[]);return Object(s.jsxs)("div",{children:[Object(s.jsx)(O,{text:"Phonebook"}),Object(s.jsx)(l,{message:D,messageType:B}),Object(s.jsxs)("div",{children:["filter shown with ",Object(s.jsx)("input",{value:C,onChange:function(e){N(e.target.value);var t=n.filter((function(t){return t.name.toLowerCase().includes(e.target.value.toLowerCase())}));P(t)}})]}),Object(s.jsx)(O,{text:"Add a New Contact"}),Object(s.jsx)(b,{onSubmit:function(e){e.preventDefault();var t={name:j,number:v},c=n.find((function(e){return e.name===j}));if(void 0!==c){if(window.confirm("".concat(j," is already added to phonebook, replace the old number with a new one?"))){var o=Object(u.a)(Object(u.a)({},c),{},{number:t.number});m.update(c.id,o).then((function(e){a(n.map((function(e){return e.id!==c.id?e:o})))})).catch((function(e){E("".concat(t.name," does not exist in phonebook")),I("error"),setTimeout((function(){E(null),I("")}),5e3)})),E("Changed ".concat(t.name,"'s number")),I("notification"),setTimeout((function(){E(null),I("")}),5e3)}}else m.create(t).then((function(e){a(n.concat(e.data)),f(""),x("")})),a(n.concat(t)),f(""),x(""),E("Added ".concat(t.name)),I("notification"),setTimeout((function(){E(null),I("")}),5e3)},newName:j,handleNameChange:function(e){f(e.target.value)},newNumber:v,handleNumberChange:function(e){x(e.target.value)}}),Object(s.jsx)(O,{text:"Numbers"}),Object(s.jsx)(d,{person:n,filter:C,filteredPersons:y,toggleDelete:function(e){if(window.confirm("Delete ".concat(e.name,"?"))){var t=n.find((function(t){return t.id===e.id}));m.deletePerson(t.id),a(n.filter((function(t){return t.id!==e.id})))}}})]})};n(39);i.a.render(Object(s.jsx)(a.a.StrictMode,{children:Object(s.jsx)(p,{})}),document.getElementById("root"))}},[[40,1,2]]]);
//# sourceMappingURL=main.fab59d7f.chunk.js.map